<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>My Project: Packet Performance</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">My Project
   &#160;<span id="projectnumber">beta 0.01</span>
   </div>
   <div id="projectbrief">Doxygen for HPCC-plus</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__packetperf.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Properties</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(13)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Packet Performance<div class="ingroups"><a class="el" href="group__network.html">Network</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>The current implementation of the byte buffers and tag list is based on COW (Copy On Write.  
<a href="#details">More...</a></p>
<p>The current implementation of the byte buffers and tag list is based on COW (Copy On Write. </p>
<p>An introduction to COW can be found in Scott Meyer's "More Effective C++", items 17 and 29). What this means is that copying packets without modifying them is very cheap (in terms of cpu and memory usage) and modifying them can be also very cheap. What is key for proper COW implementations is being able to detect when a given modification of the state of a packet triggers a full copy of the data prior to the modification: COW systems need to detect when an operation is "dirty".</p>
<p>Dirty operations:</p>
<ul>
<li><a class="el" href="classns3_1_1_packet.html#a465108c595a0bc592095cbcab1832ed8" title="Add header to this packet. ">ns3::Packet::AddHeader</a></li>
<li><a class="el" href="classns3_1_1_packet.html#ae26b490c30ae5bc98be5181ec6e06db8" title="Add trailer to this packet. ">ns3::Packet::AddTrailer</a></li>
<li>both versions of <a class="el" href="classns3_1_1_packet.html#a14ec3d4250b425468764de58f5837b6b" title="Concatenate the input packet at the end of the current packet. ">ns3::Packet::AddAtEnd</a></li>
<li><a class="el" href="classns3_1_1_packet.html#a078fe922d976a417ab25ba2f3c2fd667">ns3::Packet::RemovePacketTag</a></li>
</ul>
<p>Non-dirty operations:</p>
<ul>
<li><a class="el" href="classns3_1_1_packet.html#a7400b8655852f5271c5957250d0141af">ns3::Packet::AddPacketTag</a></li>
<li><a class="el" href="classns3_1_1_packet.html#a1734de11f2ca1e78a7872461a0625168">ns3::Packet::PeekPacketTag</a></li>
<li><a class="el" href="classns3_1_1_packet.html#a6c7bc5d1067c1d7fbd0fd70289182e8b" title="Remove all packet tags. ">ns3::Packet::RemoveAllPacketTags</a></li>
<li><a class="el" href="classns3_1_1_packet.html#ad5997caea8c22757acade2fcb4d7daca">ns3::Packet::AddByteTag</a></li>
<li><a class="el" href="classns3_1_1_packet.html#a2e1403c2411495827012fe000823c16a">ns3::Packet::FindFirstMatchingByteTag</a></li>
<li><a class="el" href="classns3_1_1_packet.html#a083f54c9db31aeff30551a9e20fcda42" title="Remove all the tags stored in this packet. ">ns3::Packet::RemoveAllByteTags</a></li>
<li><a class="el" href="classns3_1_1_packet.html#a0961eccf975d75f902d40956c93ba63e" title="Deserialize and remove the header from the internal buffer. ">ns3::Packet::RemoveHeader</a></li>
<li><a class="el" href="classns3_1_1_packet.html#a2155e042083e9a17ad3b33f9fecb4be4" title="Remove a deserialized trailer from the internal buffer. ">ns3::Packet::RemoveTrailer</a></li>
<li><a class="el" href="classns3_1_1_packet.html#a16f6113606b355b2b346e2245fa2a3d0" title="Create a new packet which contains a fragment of the original packet. ">ns3::Packet::CreateFragment</a></li>
<li><a class="el" href="classns3_1_1_packet.html#a78aa207e7921dd2f9f7e0d0b7a1c730a" title="Remove size bytes from the start of the current packet. ">ns3::Packet::RemoveAtStart</a></li>
<li><a class="el" href="classns3_1_1_packet.html#a607de6c1abda2a960e99a3b59fd35d14" title="Remove size bytes from the end of the current packet It is safe to remove more bytes that what is pre...">ns3::Packet::RemoveAtEnd</a></li>
<li><a class="el" href="classns3_1_1_packet.html#a5a6d304b9e0d90733919ffe224b98f0d">ns3::Packet::CopyData</a></li>
</ul>
<p>Dirty operations will always be slower than non-dirty operations, sometimes by several orders of magnitude. However, even the dirty operations have been optimized for common use-cases which means that most of the time, these operations will not trigger data copies and will thus be still very fast. </p>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Thu May 16 2024 11:27:03 for My Project by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
